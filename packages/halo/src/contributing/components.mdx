---
name: Component Revision
menu: Contributing
route: /contributing/component-revision
---

# Component Revision

<br />

This section explains how to enhance an existing Halo component.

<hr />

## Filesystem Anatomy

Each Halo component has a consistent file structure (showcased below for the `Banner` component).

```javascript
Banner // Parent folder (must match the component name)
|
└───__tests__ // jest specs
│   │
│   └───__snapshots__ // jest html snapshots for specs
│   │   │
│   │   └─── Banner.tests.tsx.snap
│   │
|   └───Banner.test.tsx // jest spec
│
└───index.mdx // component documentation; mdx = markdown + JSX (React)
|
└───index.tsx // actual component implementation
|
└───styles.module.scss // non-tailwind css
```

<hr />

## Process

There are various steps you would take when updating an existing Halo component, which are described below.

All commands are to be run from halo repository root directory.

<br />

### Implementation

Make desired changes to `index.tsx`.

<br />

### Styles

Prefer an implementation of tailwind classes.

Reserve `styles.module.scss` for complex selectorsthat are not possible with tailwind,
such as pseudo-elements, parent/child relationships, unusual media queries, etc.

<br />

### Documentation

Update any existing examples in the documentation, add any new ones.

Run the documentation server locally using the command below.

```bash
yarn clean && yarn dev
```

The server can then be accessed at http://localhost:8000/.

<br />

### Tests

All components have jest test cases for existing behaviour and functionality.
Update existing test cases and add new ones for any updated/added behavior.

The test suite can be run locally using the commands below.

```bash
# run entire suite (jest)
yarn test

# unit tests only (no linters, etc.)
yarn test:dev

# author new unit test iteratively (watch new/changed tests)
yarn test:dev:watch
```

<br />

### Snapshots

Halo uses [snapshot testing](https://jestjs.io/docs/snapshot-testing).

Snapshots is a cheap testing strategy that is especially helpful in design systems.
A given component might be composed of several smaller, atomic components.
Snapshots help one understand the downstream effects of source changes on the entire system.

After you've made edits to the source, and live documentation looks good in browser,
be sure to update snapshots:

```bash
yarn test:snapshot-update
```

Updated snapshots `*.snap` are written to the filesystem. Inspect these diffs.
Confirm the HTML source is expected.

<hr />

## Pull request

[An example PR](https://github.com/venturehacks/halo/pull/162) that adds new variants for the `Button` component, for reference.
