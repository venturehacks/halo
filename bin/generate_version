#!/usr/bin/env ruby

require 'json'

# use package.json as authoritative version source
package = JSON.parse(File.read(File.expand_path('../package.json', __dir__)))

contents = <<~VERSION_FILE
module Halo
  VERSION = '#{package['version']}'.freeze
end
VERSION_FILE

File.open(File.expand_path('../lib/halo/version.rb', __dir__), 'w') do |f|
  f.write(contents)
end

exit(true)
